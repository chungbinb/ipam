# IT资产管理系统 - 部署检查清单

## 📋 部署前准备

### 环境要求检查
- [ ] PHP >= 7.4
- [ ] MySQL 5.5-8.4.5
- [ ] PDO MySQL扩展已启用
- [ ] Web服务器已配置（Apache/Nginx）
- [ ] 确保有数据库创建权限

### 文件上传检查
- [ ] 所有项目文件已上传
- [ ] `public/` 目录存在且包含所有HTML文件
- [ ] `sql/` 目录包含所有13个SQL文件
- [ ] `src/` 目录结构完整
- [ ] 目录权限设置正确（755 或 777）

## 🚀 部署步骤检查

### 1. MySQL版本检测
- [ ] 确认MySQL版本（在数据库管理中运行 `SELECT VERSION()`）
- [ ] 记录版本号用于选择安装工具

### 2. 选择安装方式
根据MySQL版本选择：
- [ ] **MySQL 8.4+**: 使用 `mysql8_fix.php` 兼容性工具
- [ ] **MySQL 5.5-8.3**: 使用 `install.php` 标准安装向导  

### 3. 运行安装向导
- [ ] 访问选择的安装工具
- [ ] 通过环境检测
- [ ] 数据库连接测试成功
- [ ] 确认创建了13个数据库表：
  - [ ] accounts (用户账号)
  - [ ] brand (品牌)
  - [ ] department (部门) 
  - [ ] laptop (笔记本)
  - [ ] monitor (显示器)
  - [ ] printer (打印机)
  - [ ] host (主机)
  - [ ] consumable (耗材)
  - [ ] ip_segments (IP段)
  - [ ] ip_addresses (IP地址)
  - [ ] logs (日志)
  - [ ] asset_numbers (资产编号)
  - [ ] server (服务器)
- [ ] 默认管理员账号创建成功
- [ ] 安装锁定文件 `install.lock` 已生成

### 4. Web服务器配置（重要）
如果使用宝塔面板：
- [ ] 添加API重写规则到Nginx配置
- [ ] 设置默认首页重定向
- [ ] 重载Nginx配置
- [ ] 确认静态文件访问正常

## ✅ 功能验证

### 基础功能测试
- [ ] 访问根路径自动跳转到登录页面
- [ ] 使用默认账号登录成功 (admin/123456)
- [ ] 登录后正确跳转到 `/public/index.html`
- [ ] 主页面加载正常，菜单显示完整

### API功能测试
- [ ] 访问 `test_api.php` 验证API路径
- [ ] IP地址管理页面加载正常
- [ ] 打印机管理页面加载正常
- [ ] 其他功能模块页面正常

### 数据库功能测试
- [ ] 能够添加/编辑设备信息
- [ ] IP地址管理功能正常
- [ ] 用户权限控制正常
- [ ] 操作日志记录正常

## 🐛 问题排查工具

### 如果遇到问题，可以进行以下检查：

**MySQL兼容性问题**
- [ ] `mysql8_fix.php` - MySQL 8.x兼容性修复

**基本功能测试**
- [ ] 手动测试登录功能
- [ ] 检查API响应（如 `/api/auth/login`）
- [ ] 验证数据库表是否完整

**日志检查**
- [ ] 查看Web服务器错误日志
- [ ] 检查PHP错误日志
- [ ] 查看MySQL错误日志

## 🔒 安全检查

### 部署后安全措施
- [ ] 修改默认管理员密码
- [ ] 删除或重命名 `install.php` 文件
- [ ] 删除调试工具文件（生产环境）
- [ ] 检查目录权限设置
- [ ] 配置数据库定期备份
- [ ] 启用HTTPS（推荐）

## 📞 遇到问题？

如果在部署过程中遇到问题：

1. **查看错误日志**：Web服务器错误日志通常在 `/www/wwwlogs/` 目录
2. **使用调试工具**：运行相应的 `.php` 调试文件
3. **检查文档**：参考 `README.md` 和 `BAOTA_DEPLOYMENT.md`
4. **版本信息**：访问 `version.php` 查看当前版本和功能

---

**完成时间**: ___________  
**部署人员**: ___________  
**系统版本**: v1.1 (2025-08-25)
